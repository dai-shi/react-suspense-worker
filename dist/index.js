var n=require("comlink"),r=function(n){return!!n&&"function"==typeof n.then},t=function(n){return"object"==typeof n&&null!==n};exports.expose=n.expose,exports.wrap=function(e){return function n(e){var o=new Map,u=new Map;return new Proxy(e,{get:function(e,u){if(o.has(u)){var i=o.get(u);return t(i)?n(i):i}var f=e[u];if(r(f))throw f.then(function(n){o.set(u,n)});return t(f)?n(f):f},apply:function(e,o,i){var f=JSON.stringify(i);if(u.has(f)){var a=u.get(f);return t(a)?n(a):a}var p=e.apply(o,i);if(r(p))throw p.then(function(n){u.set(f,n)});return t(p)?n(p):p}})}(n.wrap(e))};
//# sourceMappingURL=index.js.map
