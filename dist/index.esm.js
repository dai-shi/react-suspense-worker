import{expose as n,wrap as t}from"comlink";var r=n,e=function(n){return!!n&&"function"==typeof n.then},o=function(n){return"object"==typeof n&&null!==n},u=function(n){return function n(t){var r=new Map,u=new Map;return new Proxy(t,{get:function(t,u){if(r.has(u)){var f=r.get(u);return o(f)?n(f):f}var i=t[u];if(e(i))throw i.then(function(n){r.set(u,n)});return o(i)?n(i):i},apply:function(t,r,f){var i=JSON.stringify(f);if(u.has(i)){var a=u.get(i);return o(a)?n(a):a}var p=t.apply(r,f);if(e(p))throw p.then(function(n){u.set(i,n)});return o(p)?n(p):p}})}(t(n))};export{r as expose,u as wrap};
//# sourceMappingURL=index.esm.js.map
